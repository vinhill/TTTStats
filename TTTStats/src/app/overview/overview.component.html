<div class="masonry" #masonry>
	<card>
		<h1 class="display-3">TTT Overview</h1>
		Made with ‚ù§ by Josu und Vincent
		<br>
		Code available <a href="https://github.com/vinhill/TTTStats">here</a>
	</card>
	<card title="Maps" [loaded]="rmc.loaded" [reloadCallback]="rmc.load">
		<resttt-chart #rmc
			query="MapCount"
			labelkey="map"
			datakeys="count"
			ctype="doughnut"
			cmap="plotly">
		</resttt-chart>
	</card>
	<card title="Kill stats" [loaded]="rpkc.loaded" [reloadCallback]="rpkc.load">
		<resttt-table #rpkc
			query="KillStats"
			datakeys="player,kills,deaths">
		</resttt-table>
	</card>
	<card title="Roles" size="large" [loaded]="rrc.loaded" [reloadCallback]="rrc.load">
		<resttt #rrc
			query="RoleCount"
			display="Treemap"
			[options]="{label: 'startrole', parent: 'superteam', value: 'count', color: 'colour'}">
		</resttt>
	</card>
	<card title="Who kills who?" [loaded]="wkw.loaded" [reloadCallback]="wkw.load">
		<resttt #wkw
			query="WhoKilledWho"
			display="Sankey"
			[options]="{source:'killer', target:'victim'}">
		</resttt>
	</card>
	<card title="Bought the most" [loaded]="rpp.loaded" [reloadCallback]="rpp.load">
		<resttt-chart #rpp
			query="PopularPurchases"
			labelkey="item"
			datakeys="amount"
			ctype="doughnut"
			cmap="plotly">
		</resttt-chart>
	</card>
	<card title="Victorious teams" [loaded]="rtw.loaded" [reloadCallback]="rtw.load">
		<resttt-chart #rtw
			query="TeamWincount"
			labelkey="team"
			datakeys="count"
			ctype="doughnut"
			cmap="plotly">
		</resttt-chart>
	</card>
	<card title="Best weapon" [loaded]="rkbw.loaded" [reloadCallback]="rkbw.load">
		<resttt-chart #rkbw
			query="KillsByWeaponLimited"
			[params]="{limit: 25}"
			labelkey="weapon"
			datakeys="count"
			ctype="doughnut"
			cmap="plotly">
		</resttt-chart>
	</card>
	<card title="Role winrate" size="large" [loaded]="rrc.loaded" [reloadCallback]="rrc.load">
		<resttt #test
			query="RoleWincount"
			display="Treemap"
			[options]="{label: 'startrole', parent: 'superteam', value: 'wins', color: 'colour'}">
		</resttt>
	</card>
</div>