// use https://dbdiagram.io/d

Table role {
  name varchar
  team varchar
  superteam varchar
  color varchar
}

Table player {
  name varchar
}

Table match {
  mid int
  map varchar
}

Table buys {
  mid int [ref: > match.mid]
  name varcher [ref: > player.name]
  item varchar
  time time
}

Table participates {
  mid int [ref: > match.mid]
  player varchar [ref: > player.name]
  init_role varchar [ref: > role.name]
  role varchar [ref: > role.name]
}

Table kills {
  mid int [ref: > match.mid]
  attacker varchar [ref: > player.name]
  victim varchar [ref: > player.name]
  atkrole varchar [ref: > role.name]
  vktrole varchar [ref: > role.name]
  time time
  weapon optional[varchar]
}

Table dies {
  mid int [ref: > match.mid]
  player varchar [ref: > player.name]
  reason varchar
  time time
}

Table damages {
  mid int [ref: > match.mid]
  attacker varchar [ref: > player.name]
  victim varchar [ref: > player.name]
  atkrole varchar [ref: > role.name]
  vktrole varchar [ref: > role.name]
  time time
  weapon optional[varchar]
  damage int
}

Table rolechange {
  mid int [ref: > match.mid]
  player varchar [ref: > player.name]
  role varchar [ref: > role.name]
  causee optinal[varchar] [ref: > player.name]
  reason varchar
  time time
}

Table configs {
  filename varchar
}

Table wins {
  mid int [ref: > match.mid]
  team varchar [ref: > role.team]
}
