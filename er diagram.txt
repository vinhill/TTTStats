// use https://dbdiagram.io/d

Table role {
  name varchar
  team varchar
  superteam varchar
  color varchar
}

Table player {
  name varchar
}

Table match {
  mid int
  map varchar
}

Table buys {
  mid int [ref: > match.mid]
  name varcher [ref: > player.name]
  item varchar
  time time
}

Table participates {
  mid int [ref: > match.mid]
  player varchar [ref: > player.name]
  startrole varchar [ref: > role.name]
  mainrole varchar [ref: > role.name]
}

Table dies {
  mid int [ref: > match.mid]
  player varchar [ref: > player.name]
  vktrole varchar [ref: > role.name]
  reason enum
  causee varchar [ref: > player.name]
  atkrole varchar [ref: > role.name]
  weapon optional[varchar]
  time time
}

Table damages {
  mid int [ref: > match.mid]
  player varchar [ref: > player.name]
  vktrole varchar [ref: > role.name]
  reason enum
  causee varchar [ref: > player.name]
  atkrole varchar [ref: > role.name]
  weapon optional[varchar]
  time time
  damage int
}

Table rolechange {
  mid int [ref: > match.mid]
  player varchar [ref: > player.name]
  causee varchar [ref: > player.name]
  fromrole varchar [ref: > role.name]
  torole varchar [ref: > role.name]
  time time
}

Table configs {
  filename varchar
}

Table wins {
  mid int [ref: > match.mid]
  team varchar [ref: > role.team]
}

Table loves {
  mid int [ref: > match.mid]
  first varchar [ref: > player.name]
  second varchar [ref: > player.name]
}

TABLE revives {
  mid int [ref: > match.mid]
  player varchar [ref: > player.name]
  causee varchar [ref: > player.name]
  reason enum
}